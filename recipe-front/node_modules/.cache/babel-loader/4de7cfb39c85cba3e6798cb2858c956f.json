{"ast":null,"code":"var _jsxFileName = \"F:\\\\jmm.intern\\\\react\\\\recipe-app-heroku\\\\recipe-front\\\\src\\\\Components\\\\Auth\\\\Login.jsx\",\n    _s = $RefreshSig$();\n\nimport { Button, Form, Input, message, Modal } from \"antd\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport { useUserContext } from \"../../Context/UserContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst LogIn = () => {\n  _s();\n\n  // Modal Handling\n  const [isModalVisible, setIsModalVisible] = React.useState(false); //form instance\n\n  const [form] = Form.useForm(); //User context destructure\n\n  const {\n    login\n  } = useUserContext();\n\n  const showModal = () => {\n    setIsModalVisible(true);\n  };\n\n  const handleCancel = () => {\n    setIsModalVisible(false);\n  }; // Form Handling\n\n\n  const onFinish = () => {\n    const data = form.getFieldValue();\n    axios.post(\"/login\", data).then(response => {\n      if (response.data.type) {\n        message.info(response.data.message);\n        login({\n          user: response.data.email,\n          token: response.data.token\n        });\n      } else {\n        message.error(response.data.message);\n      }\n    }).catch(error => {\n      console.error(\"There was an error!\", error);\n    });\n    setIsModalVisible(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(React.StrictMode, {\n    children: [/*#__PURE__*/_jsxDEV(Modal, {\n      visible: isModalVisible,\n      onCancel: handleCancel,\n      footer: null,\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        name: \"login\",\n        form: form,\n        onFinish: onFinish //   onFieldsChange={onFieldChange}\n        ,\n        autoComplete: \"off\",\n        layout: \"vertical\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-6\",\n            children: /*#__PURE__*/_jsxDEV(Form.Item, {\n              label: \"Email\",\n              name: \"email\",\n              rules: [{\n                required: true,\n                message: \"Please input your email!\"\n              }],\n              children: /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-6\",\n            children: /*#__PURE__*/_jsxDEV(Form.Item, {\n              label: \"Password\",\n              name: \"password\",\n              rules: [{\n                required: true,\n                message: \"Please input your passwrod!\"\n              }],\n              children: /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-end\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleCancel,\n            className: \"me-1 btn-cancel\",\n            children: \"cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: onFinish,\n            className: \"btn-login\",\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      onClick: showModal,\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n};\n\n_s(LogIn, \"k3YYeyhJZBfDDEIuQBJZn7Ifq/Y=\", false, function () {\n  return [Form.useForm, useUserContext];\n});\n\n_c = LogIn;\nexport default LogIn;\n\nvar _c;\n\n$RefreshReg$(_c, \"LogIn\");","map":{"version":3,"sources":["F:/jmm.intern/react/recipe-app-heroku/recipe-front/src/Components/Auth/Login.jsx"],"names":["Button","Form","Input","message","Modal","React","axios","useUserContext","LogIn","isModalVisible","setIsModalVisible","useState","form","useForm","login","showModal","handleCancel","onFinish","data","getFieldValue","post","then","response","type","info","user","email","token","error","catch","console","required"],"mappings":"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","sourcesContent":["import { Button, Form, Input, message, Modal } from \"antd\";\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\nimport { useUserContext } from \"../../Context/UserContext\";\r\nconst LogIn = () => {\r\n  // Modal Handling\r\n  const [isModalVisible, setIsModalVisible] = React.useState(false);\r\n  //form instance\r\n  const [form] = Form.useForm();\r\n  //User context destructure\r\n  const { login } = useUserContext();\r\n\r\n  const showModal = () => {\r\n    setIsModalVisible(true);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setIsModalVisible(false);\r\n  };\r\n\r\n  // Form Handling\r\n  const onFinish = () => {\r\n    const data = form.getFieldValue();\r\n    axios\r\n      .post(\"/login\", data)\r\n      .then((response) => {\r\n        if (response.data.type) {\r\n          message.info(response.data.message);\r\n          login({ user: response.data.email, token: response.data.token });\r\n        } else {\r\n          message.error(response.data.message);\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"There was an error!\", error);\r\n      });\r\n\r\n    setIsModalVisible(false);\r\n  };\r\n\r\n  return (\r\n    <React.StrictMode>\r\n      <Modal visible={isModalVisible} onCancel={handleCancel} footer={null}>\r\n        <Form\r\n          name=\"login\"\r\n          form={form}\r\n          onFinish={onFinish}\r\n          //   onFieldsChange={onFieldChange}\r\n          autoComplete=\"off\"\r\n          layout=\"vertical\"\r\n        >\r\n          <div className=\"row\">\r\n            <div className=\"col-6\">\r\n              <Form.Item\r\n                label=\"Email\"\r\n                name=\"email\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: \"Please input your email!\",\r\n                  },\r\n                ]}\r\n              >\r\n                <Input />\r\n              </Form.Item>\r\n            </div>\r\n            <div className=\"col-6\">\r\n              <Form.Item\r\n                label=\"Password\"\r\n                name=\"password\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: \"Please input your passwrod!\",\r\n                  },\r\n                ]}\r\n              >\r\n                <Input />\r\n              </Form.Item>\r\n            </div>\r\n          </div>\r\n          <div className=\"text-end\">\r\n            <Button onClick={handleCancel} className=\"me-1 btn-cancel\">\r\n              cancel\r\n            </Button>\r\n            <Button onClick={onFinish} className=\"btn-login\">\r\n              Login\r\n            </Button>\r\n          </div>\r\n        </Form>\r\n      </Modal>\r\n\r\n      <Button onClick={showModal}>Login</Button>\r\n    </React.StrictMode>\r\n  );\r\n};\r\n\r\nexport default LogIn;\r\n"]},"metadata":{},"sourceType":"module"}